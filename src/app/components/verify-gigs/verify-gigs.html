<!-- verify-gigs.component.html -->

<div class="page">
  @if (isMobile()) {
    <br><br>
  }

  <!-- Loading State -->
  @if (isLoading) {
    <div class="loading-container">
      <div class="spinner"></div>
    </div>
  }

  <!-- Empty State -->
  @else if (unverifiedGigs.length === 0) {
    <div class="empty-state">
      <i class="material-icons empty-icon">verified</i>
      <h3>All gigs are verified!</h3>
      <p>No pending gigs to verify</p>
    </div>
  }

  <!-- Gigs List -->
  @else {
    <div class="gigs-container">
      @for (gig of unverifiedGigs; track gig.id) {
        <div class="gig-card">
          <!-- Header -->
          <div class="gig-header">
            <h3 class="client-name">{{ gig.client_name || 'No Name' }}</h3>
            <span class="pending-badge">
              <i class="material-icons">pending</i>
              <span>Pending</span>
            </span>
          </div>

          <!-- Contact & Location -->
          <div class="gig-info">
            <div class="info-row">
              <i class="material-icons">phone</i>
              <span>{{ gig.client_phone || 'N/A' }}</span>
            </div>
            <div class="info-row">
              <i class="material-icons">location_on</i>
              <span>{{ gig.ward || 'N/A' }}, {{ gig.constituency || 'N/A' }}, {{ gig.county || 'N/A' }}</span>
            </div>
          </div>

          <div class="divider"></div>

          <!-- Gig Details -->
          <div class="gig-details">
            <div class="detail-item">
              <div class="detail-label">
                <i class="material-icons">calendar_today</i>
                <span>Start Date</span>
              </div>
              <div class="detail-value">{{ gig.start_date || 'N/A' }}</div>
            </div>
            <div class="detail-item">
              <div class="detail-label">
                <i class="material-icons">schedule</i>
                <span>Duration</span>
              </div>
              <div class="detail-value">{{ gig.duration_value || 'N/A' }} {{ gig.duration_unit || '' }}</div>
            </div>
          </div>

          <!-- Verify Button -->
          <div class="button-container">
            <button class="verify-btn" (click)="verifyGig(gig.id)">
              <i class="material-icons">verified</i>
              <span>Verify Gig</span>
            </button>
          </div>
        </div>
      }
    </div>
  }
</div>